{"version":3,"sources":["../../../../../app/src/routes/v1/fw_teams/healthcheck.router.js"],"names":["Router","require","koaSimpleHealthCheck","mongoose","logger","router","prefix","get","test","connection","readyState","error","Error","message","module","exports"],"mappings":";;AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,YAAD,CAAtB;;AACA,MAAMC,oBAAoB,GAAGD,OAAO,CAAC,wBAAD,CAApC;;AACA,MAAME,QAAQ,GAAGF,OAAO,CAAC,UAAD,CAAxB;;AACA,MAAMG,MAAM,GAAGH,OAAO,mBAAtB;;AAEA,MAAMI,MAAM,GAAG,IAAIL,MAAJ,CAAW;AACxBM,EAAAA,MAAM,EAAE;AADgB,CAAX,CAAf;AAIAD,MAAM,CAACE,GAAP,CACE,GADF,EAEEL,oBAAoB,CAAC;AACnBM,EAAAA,IAAI,EAAE,YAAY;AAChB,QAAIL,QAAQ,CAACM,UAAT,CAAoBC,UAApB,KAAmC,CAAvC,EAA0C;AACxC,YAAMC,KAAK,GAAG,IAAIC,KAAJ,CAAU,2BAAV,CAAd;AACAR,MAAAA,MAAM,CAACO,KAAP,CAAaA,KAAb;AACA,aAAO;AAAEA,QAAAA,KAAK,EAAEA,KAAK,CAACE;AAAf,OAAP;AACD;AACF;AAPkB,CAAD,CAFtB;AAaAC,MAAM,CAACC,OAAP,GAAiBV,MAAjB","sourcesContent":["const Router = require(\"koa-router\");\nconst koaSimpleHealthCheck = require(\"koa-simple-healthcheck\");\nconst mongoose = require(\"mongoose\");\nconst logger = require(\"logger\");\n\nconst router = new Router({\n  prefix: \"/healthcheck\"\n});\n\nrouter.get(\n  \"/\",\n  koaSimpleHealthCheck({\n    test: function () {\n      if (mongoose.connection.readyState !== 1) {\n        const error = new Error(\"Not connected to database\");\n        logger.error(error);\n        return { error: error.message };\n      }\n    }\n  })\n);\n\nmodule.exports = router;\n"],"file":"healthcheck.router.js"}